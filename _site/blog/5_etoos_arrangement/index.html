<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>20년도 ETOOS 배치표 서비스 개편</title>
    
<!-- Post info -->

  <meta property="og:site_name" content="Etoos Technical">

    <meta property="fb:app_id"          content="1607605225977118" />
    <meta property="og:type"            content="article" /> 
    <meta property="og:url"             content="http://localhost:4000/blog/5_etoos_arrangement/" />
    
    <meta property="og:image" content="http://localhost:4000/blog/5_etoos_arrangement/">

    <meta name="twitter:card" content="summary_large_image"> 
    
    <!-- title -->
    <meta property="og:title" content="20년도 ETOOS 배치표 서비스 개편">
    
    <meta name="twitter:title" content="20년도 ETOOS 배치표 서비스 개편">
    
    <!-- description -->
    <meta property="og:description" content="## 20년도 배치표 서비스 개편 AS-IS, TO-BE & TO-DO 안녕하세요. 강산이 한번 변하고 교육과정이 두 번 변하는 동안 배치표 업무를 맡고 있는 이지환입니다. 2020학년도 배치표 개선사항에 대해 Tech-Talk에서 이야기 드렸지만..."/>
    
    <meta name="twitter:description" content="## 20년도 배치표 서비스 개편 AS-IS, TO-BE & TO-DO 안녕하세요. 강산이 한번 변하고 교육과정이 두 번 변하는 동안 배치표 업무를 맡고 있는 이지환입니다. 2020학년도 배치표 개선사항에 대해 Tech-Talk에서 이야기 드렸지만...">
    
  <!-- CSS -->
  <link rel="stylesheet" href="/styles.css">
  <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,700" rel="stylesheet">
  <link rel="shortcut icon" href="https://img.etoos.com/teacher/event/2018/04/pmo_00/favicon.ico">
    
  <!-- GA -->
   <script async="" src="https://www.google-analytics.com/analytics.js"></script>
    
   <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-86397112-1', 'auto');
        ga('send', 'pageview');

    </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-2080815546000293",
      enable_page_level_ads: true
    });
  </script>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156443666-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-156443666-1');
  </script>

</head>


  <body>
    <div class="gnb-wrap">
      
      <nav class="nav">
        <div class="nav-container ">
            <ul class="etoos-logo-wrap">
                <li>
                    <a href="/">
                        <img src="http://recruit.etoos.com/images/recruit/common/logo.gif" alt="etoos logo">
                        <span>기술블로그</span>
                    </a>
                </li>   
            </ul>
            <ul class="blog-menu">
                <li class="transition">
                    <a href="/blog/"  class="normal"  class="active">ETOOS TECH</a>
                </li>
                <li class="transition">
                    <a href="/recruit"  >Recruit</a>
                </li>
                <li class="transition">
                    <a href="/about"  >About</a>
                </li>
            </ul>
        </div>
      </nav>
    </div>

    
        <div class="post-header loading-animation" style="background-image: url('')">
    <div id="etoos-main-banner">
        <section class="explanation">
            <h2 class="subTitle">Etoos Tech Blog</h2>
            <h1 class="mainTitle">이투스와 나눠요.</h1>
            <div class="etoos-recruitBt">
                <a class="transition" href="/recruit">
                    지원하기
                </a>
            </div>
        </section>
    </div>
</div>
    
    
      
    <main>
        <div class="post">
    <div class="post-info">
        <div class="post-type-tag">
            
            <div class="post-type">
                Development
            </div>
        </div>
        <!-- <h1 class="post-title">
            20년도 ETOOS 배치표 서비스 개편
        </h1>
        <h2 class="post-subtitle">
            AS-IS, TO-BE & TO-DO
        </h2> -->
    </div>
    
<!--포트폴리오 상단 정보-->
    
    

<!--draft 일 때-->
    
    
    
<!--큐레이션 영역-->
    <h2 id="20년도-배치표-서비스-개편-as-is-to-be--to-do">20년도 배치표 서비스 개편 AS-IS, TO-BE &amp; TO-DO</h2>

<p>안녕하세요. 강산이 한번 변하고 교육과정이 두 번 변하는 동안 배치표 업무를 맡고 있는 이지환입니다.
2020학년도 배치표 개선사항에 대해 Tech-Talk에서 이야기 드렸지만 배치표 업무를 하며 고민해 왔던 것은 무엇이었고 이슈가 있었던 것은 어떤 것들이 있었는지
이야기를 해보고자 합니다. 너무 오래 전 이야기부터라 “나 때는 말이야~” 될지도 모르겠네요.</p>

<ul>
  <li><strong>산출, 배치표의 고민</strong>
매년 각 대학별 모집요강을 발표하고 수능 성적을 그 대학의 모집요강 내용에 맞춰 점수를 환산해보는 것을 배치표 담당자들은 ‘산출’이라고 표현 합니다.
산출하는 방식이 비슷한 대학들도 있고 전혀 다른 공식을 사용하는 경우도 있기에 많은 종류의 산출 식이 존재합니다.
이를 구현하기 위해 선택할 수 있는 방법은 두 가지로 대학별로 산출식을 각각 만들거나 공통으로 처리할 수 있는 산출식을 만드는 것 이었습니다.
전자의 경우 전체적인 변경이 일어나면 대학별 산출식을 일일이 모두 수정, 확인해야 하는 문제가 있고 후자의 경우는 복잡도 증가와 리소스 낭비의 문제가 있겠죠.
고민 끝에 후자의 방식을 선택하게 됩니다.</li>
  <li><strong>산수는 누가해</strong><strong>?</strong>
산출 로직에는 많은 정보 데이터가 필요하고 처리 단계가 조금 복잡하기는 하지만 결국 수식은 더하기, 빼기, 곱하기, 나누기 특이한 경우는 제곱 정도 필요합니다.
DB보다는 ASP가 산수를 더 잘하니 산출식을 ASP에서 처리해야겠다고 생각하고 테스트를 했습니다.
그런데 처리 단계가 많아 여러 번 DB 커넥션을 해야 했는데 커넥션에 걸리는 시간이 너무 오래 걸려 서비스하기에는 무리였습니다.
결국 커넥션 횟수를 줄이기 위해서 산출식을 DB 프로시져로 구현하게 됩니다.
왜 쿼리로 프로그램을 짜냐고 DBA분들은 싫어하시죠.. 압니다. 미안합니다.</li>
  <li><strong>기억하고 싶지 않은 추억</strong>
공통식을 프로시져로 구현하여 첫 해에 큰 문제 없이 런칭을 했습니다. 하지만 그 다음해에는 조금씩 문제가 발생했죠. 네, 첫 해에는 배치표 이용자가 적었던 것 같습니다.
이듬해부터 사용자가 점점 늘어나기 시작하면서 DB에 과부하가 일어나 장애도 발생했었습니다.
배치표는 이투스 온라인 DB를 같이 사용하고 있었는데 본의 아니게 이투스 사이트 속도가 느려지는 일까지.. 책상 주변에 직원 분들로 병풍 쳐보셨나요? 하아.. 기억하고 싶지 않네요.</li>
  <li><strong>배치표의 숙원 추천 대학 검색</strong>
튜닝과 로직 변경으로 배치표 서비스가 안정화 될 즈음
연구소에서 “이용자들에게 지원 해볼 만한 대학을 추천해 주는 적극적인 기능을 제공하고 싶다.”라는 의견이 있었고
“저도 그랬으면 좋겠습니다!”라고 내가 할 일은 아닌 듯이 대답했지만
‘한 명의 이용자만 해도 모든 대학의 산출식을 태워야 하는데.. DB사용량은 엄청나게 늘어날 텐데..’ 라는 걱정으로 정말 많이 고민 했었습니다.
결국 공통식을 다시 만들고 튜닝하며 많은 테스트와 시행착오를 거쳐 첫 해에 저~ 구석메뉴에 조용히 런칭하고 해마다 조금씩 앞에 배치되며 지금은 배치표의 핵심 기능으로 자리잡게 됩니다.</li>
  <li><strong>2019 환경의 변화</strong>
2019년 이투스의 모든 시스템은 AWS 클라우드 환경으로 이전하며 배치표는 Java환경으로 구성한다는 결정이 있었습니다.
개발언어 변경도 이슈지만 안정적인 운영을 위한 고민이 다시 시작 되었죠.
과거를 회상하며 문제점들을 생각해 봅니다.
오픈 후 일주일정도 접속자가 많이 몰리는데 산출할 때 DB에 부하 집중으로 느리거나 장애가 발생할지 모르니 부하를 분산해야 하지 않을까?
그리고 몇 가지 대안을 찾게 되죠.
정리해 봤습니다.
확인해보세요 “2020년도 배치표 서비스 개편 AS-IS, TO-BE &amp; TO-DO”</li>
</ul>

<h2 id="진행-내용">진행 내용</h2>

<ul>
  <li>발표 목적과 내용 간략 소개
배치표 개발 업무에 대한 소개보다 기술 적용을 통해 개선된 점에 중점을 두고 설명.</li>
  <li>
    <p>배치표 주요 기능 소개
이용 현황 및 배치표 주요 기능 설명
추천대학 기능 작동 원리 설명</p>
  </li>
  <li>배치표 이용자 패턴과 대응 전략
수능, 성적 발표일에 사용자 집중 현상 설명
집중으로 인해 우려되는 이슈 
AWS 환경에서 대응 방법과 결과 소개</li>
  <li>분산 처리 적용과 효과
기존 배치표(ASP)에서 DB에 부하가 집중되는 원인과 단점에 대한 설명
단점에 대한 보완을 하기 위해 현재 배치표 구현시 부하가 분산될 수 있도록 설계했음을 설명</li>
  <li>병렬처리 적용과 속도 개선
기존 배치표(ASP)에서 지원되지 않던 병렬처리 기능을 Java환경에서 적용하여 개선된 점 소개</li>
  <li>To-Do
올해 개발될 배치표의 목적과 과제 더 개선해야할 사항에 대한 설명</li>
</ul>

<embed src="pdf/etoos_arrangement_review_v02.pdf" type="application/pdf" width="100%" height="650px" />


    
    
    

    
</div>
        
        
            
<!-- <script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v2.10&appId=1607605225977118';
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

<script>window.twttr = (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0],
        t = window.twttr || {};
    if (d.getElementById(id)) return t;
    js = d.createElement(s);
    js.id = id;
    js.src = "https://platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js, fjs);
    t._e = [];
    t.ready = function(f) {
        t._e.push(f);
    };
    return t;
}(document, "script", "twitter-wjs"));</script>
<section class="share transition">
    <div class="share-twitter">
        <a class="twitter-share-button" href="https://twitter.com/intent/tweet" data-size="large">Tweet</a>
    </div>
    <div class="share-facebook">
        <div class="fb-share-button" data-href="http://localhost:4000/blog/5_etoos_arrangement/" data-layout="button_count" data-size="large" data-mobile-iframe="true">
            <a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdevelopers.facebook.com%2Fdocs%2Fplugins%2F&amp;src=sdkpreparse">공유하기</a>
        </div>
    </div>
</section> -->
        

    </main>
      
      <footer>
    <address class="footer_wrap">
        <div class="information">
            <div class="myname">
                ETOOS
            </div>
            <a href="mailto:etoostech@etoos.com" class="email">
                etoostech@etoos.com
            </a>
            <!-- <div class="accounts">
                <a href="http://dribbble.com/iamleejihye" target="_blank" class="transition">
                    <svg viewBox="0 0 48.6 48.6">
                    <path d="M24.3,0C10.9,0,0,10.9,0,24.3s10.9,24.3,24.3,24.3s24.3-10.9,24.3-24.3C48.7,10.9,37.8,0,24.3,0z M24.3,4.2
                     c4.6,0,8.9,1.6,12.3,4.2c-2.4,3.2-5.8,5.6-10.1,7.5c-2.1-3.8-4.4-7.5-7.1-11C21,4.5,22.6,4.2,24.3,4.2z M15.3,6.4
                     c2.7,3.5,5.1,7.2,7.2,10.9c-4.9,1.5-10.8,2.2-17.6,2.2C6.2,13.8,10.1,9,15.3,6.4z M4.2,24.3c0-0.2,0-0.3,0-0.5
                     c7.8,0,14.5-0.9,20.2-2.7c0.5,1,0.9,1.9,1.4,2.9C19,26.2,13.3,30.6,8.9,37.2C6,33.7,4.2,29.2,4.2,24.3z M24.3,44.5
                    c-4.7,0-8.9-1.6-12.3-4.3c4-6.3,9.1-10.3,15.4-12.2c1.9,4.9,3.3,10,4.1,15.1C29.3,44,26.9,44.5,24.3,44.5z M35.5,41.1
                    c-0.9-4.8-2.2-9.4-3.9-14c3.8-0.5,8-0.4,12.6,0.4C43.3,33.1,40.1,38,35.5,41.1z M30,23.1c-0.5-1.1-1-2.3-1.6-3.4
                    c4.7-2,8.5-4.8,11.3-8.3c2.7,3.2,4.5,7.3,4.7,11.8C39.2,22.4,34.4,22.3,30,23.1z"></path>
                    </svg>
                </a>
            </div> -->
        </div>
        <div class="copyright">
            <span>
                &copy; ETOOS Tech Lab. <time datetime="2020-11-12 05:02:53 +0000">2020</time>
                <!-- &copy; ETOOS All right reserved. <time datetime="2020-11-12 05:02:53 +0000">2020</time> -->
            </span>
        </div>    
    </address>
</footer>
   
  </body>
</html>
